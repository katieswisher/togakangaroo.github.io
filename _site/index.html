<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta content="en-au" http-equiv="Content-Language" />
		<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
		<link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Blog Feed" />
		<link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Blog Feed" />

		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
		<title>SiteName</title>
		<link rel="stylesheet" type="text/css" href="/css/style.css" />
		<link rel="shortcut icon" href="/img/favicon.ico" />
	</head>
	<body>
		<div id="container">
			<div id="side">
				<a href="/" id="home" title="home" alt="home"><img src="/img/logo.png" alt="Site Name" /></a>
				<div id="hometext"><a href="/" >George Mauer's Blog</a></div>
				<div class="section">
					<ul>
						<li><a href="/about.html">about</a></li>
						<li><a href="/rss.xml"><img src="/img/25.png" /> feed</a></li>
					</ul>
				</div>
			</div>
			<div id="content">
				<ul class="posts">
    
		<li>
			<div class="idea">
				
					<h1><a href="/2014/08/02/be-the-javascriptiest.html">Talk Roundup - Be the Javascriptiest</a></h1>
					
					<div class="postdate">2      August, 2014
						<ul>
						
						</ul>
					</div>
					
					<h2>Be the Javascriptiest</h2>
<p>This is a writeup of my talk at <a href="http://sqlsaturday.com/324/eventhome.aspx">Sql Saturday #324 - Baton Rouge</a>. This talk started as a joke, or rather as <a href="http://geekswithblogs.net/mikehuguet/Default.aspx">Mike Huguet</a> bugging me to submit something on javascript to which I responded with a flurry of serious submissions along with this silly, silly thing. To nobody's surprise but my own, it of course got selected. Oh well.</p>
<p>Fortunately I've got a lot to say. About Javascript especially.</p>
<p>But before I start, any time you want to talk javascript it's good to understand it's history as a baseline. Rather than rehashing the exact thing I said, <a href="https://www.w3.org/community/webed/wiki/A_Short_History_of_JavaScript">here's a series</a> of actually <a href="http://dailyjs.com/history-of-javascript.html">factual articles</a>. The general gist is this: <em>Brendan Eich was given ten days by Netscape to invent a browser language. He based it on Scheme. Marketing decided that it should look like Java, so it got some angle brackets.</em> The reason it is important to know this - there are parts of Javascript simply make no sense except in the historical context.</p>
<p>Another note. If you have not read this book. </p>
<p><img src="http://ecx.images-amazon.com/images/I/518QVtPWA7L._BO2,204,203,200_PIsitb-sticker-arrow-click,TopRight,35,-76_AA300_SH20_OU01_.jpg" alt="Javascript the Good Parts" /> </p>
<p>Read it. It's an easy read and covers most of the things you need to know. <a href="http://it-ebooks.info/book/274/">Hey, here it is for free.</a></p>
<p>So why this presentation at all? Well, despite the title. Javascript the Good Parts is mostly about the bad parts of Javascript. It's about all the stuff that was cludged into it by marketing, or all the mistakes that were made as a result of the insanely hurried timeframe, or all the things that have just staled over the last fifteen years of non-evolution.</p>
<p>But there are good parts. In my opinion here they are:</p>
<ul>
<li>Use functions for everything</li>
<li>Boolean Type Coercion</li>
<li>JSON Notation</li>
<li>Objects as hashes</li>
<li>Hoisting</li>
<li>Dynamic function signatures</li>
</ul>
<p>Rather than 30 slides about which I will blab for an hour I decided to do that thing that new presenters are always cautioned against - I decided to live code. I decided to live code a real life component that demonstrate why these things are awesome.</p>
<p>We're going to make a reusable collapser widget. This is what we're going for</p>
<p><a class="jsbin-embed" href="http://jsbin.com/weniqu/20/embed?output">Final desired output</a></p>
<p>Click around. Nice, huh?</p>
<p>For simplicity's sake we're going to assume jquery. We're also going to start with the html and css already written because...eh, I'm not interested in writing it again. It's pretty straightforward. Check it out</p>
<p>So firt of, we cannot achieve a collapser with css alone. We need to add some html, let's start by considering the html we would like to achieve. For each <code>.should-collapse</code> we want to wrap their contents in a new <code>&lt;span class=collapsible-collapse-area&gt;</code> and we want to prepend a new <code>&lt;button class=collapsible-collapse-handle&gt;</code>. And that's it. Our CSS will take care of the rest.</p>
<p><a class="jsbin-embed" href="http://jsbin.com/weniqu/1/embed?html,output">Html we would like to achieve</a></p>
<p>Ok, great! Next let's consider our desired API. What we need is...a function. That will take an element. And make it collapsible. <code>makeCollapsible</code> sounds like a good function name for this, yeah?</p>
<pre><code class="javascript">
//Pass in jQuery
makeCollapsible( $('.should-collapse').first() );
//Pass in a DOM element
makeCollapsible( document.querySelector('.should-collapse') );
//Pass in an options object that overrides defaults
makeCollapsible( '.should-collapse', { 
  collapsed: true //should the initial state be collapsed?
} );
</code></pre>
<p>Good? Great.</p>
<p>Ok, let's get coding. So to start with <a href="http://en.wikipedia.org/wiki/Immediately-invoked_function_expression">let's create an IIFE</a>, create a stub function in the global scope, select some elements and invoke the stub on each.</p>
<pre><code class="javascript">
(function(){

  function makeCollapsible(el) {
    
  }
  
  window.makeCollapsible = makeCollapsible;
})()

////////////////////////////////////////////

$(function(){
  
  $('.should-collapse').toArray()
  		.map(function(el){ makeCollapsible(el) })
  
})
</code></pre>
<p>That looks nice, don't it? Straightforward. Keep in mind that if you need to export anything out of an IIFE you always want to do it at the very end. Also note that I call <code>toArray</code> on the jquery elements (called a matched set) and use the js array's built-in <code>.map</code>. This is because jquery - which preceeded the builtin map function - screwed up and inverted the parameters into the callback thereby making it harder to work with the 90% use case. Its almost entirely a matter of preference.</p>
<p><script src="http://static.jsbin.com/js/embed.js" async defer></script></p>

					<br />
					<a href="/2014/08/02/be-the-javascriptiest.html#disqus_thread">Comments</a>
				
			</div>
		</li>
    
</ul>
<h3>OLDER</h3>
<ul class="postArchive">

</ul>
<p><script type="text/javascript">
//&lt;![CDATA[
(function() {
    var links = document.getElementsByTagName('a');
    var query = '?';
    for(var i = 0; i &lt; links.length; i++) {
    if(links[i].href.indexOf('#disqus_thread') &gt;= 0) {
        query += 'url' + i + '=' + encodeURIComponent(links[i].href) + '&amp;';
    }
    }
    document.write('<script charset="utf-8" type="text/javascript" src="http://disqus.com/forums/DISQUS_NAME/get_num_replies.js' + query + '">&lt;/' + 'script&gt;');
})();
//]]&gt;
</script></p>

			</div>

		</div>
	</body>
</html>